(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-026da3c7"],{"3f42":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"setting-container"},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("el-breadcrumb",[r("el-breadcrumb-item",{attrs:{to:"/"}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("个人设置")])],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form",{attrs:{"label-width":"120px",model:e.user}},[r("el-form-item",{attrs:{label:"编号："}},[e._v(e._s(e.user.id))]),r("el-form-item",{attrs:{label:"手机："}},[e._v(e._s(e.user.mobile))]),r("el-form-item",{attrs:{label:"用户名称："}},[r("el-input",{model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),r("el-form-item",{attrs:{label:"用户简介："}},[r("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.user.intro,callback:function(t){e.$set(e.user,"intro",t)},expression:"user.intro"}})],1),r("el-form-item",{attrs:{label:"联系邮箱："}},[r("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.updateInfoFn}},[e._v("保存设置")])],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","http-request":e.updateAvatar,"show-file-list":!1}},[e.user.photo?r("img",{staticClass:"avatar",attrs:{src:e.user.photo}}):e._e(),e.user.photo?e._e():r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),r("p",{staticClass:"edit-photo"},[e._v("修改头像")])],1)],1)],1)],1)},n=[],s=(r("b0c0"),r("3835")),u=(r("96cf"),r("1da1")),o=r("365c"),c={name:"settings",data:function(){return{user:{}}},methods:{getuserInfoFn:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,a,n,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["p"])();case 2:if(r=t.sent,a=Object(s["a"])(r,2),n=a[0],u=a[1],!n){t.next=8;break}return t.abrupt("return");case 8:e.user=u.data.data;case 9:case"end":return t.stop()}}),t)})))()},updateInfoFn:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["o"])(e.user);case 2:if(r=t.sent,a=Object(s["a"])(r,1),n=a[0],!n){t.next=7;break}return t.abrupt("return");case 7:e.$message.success("个人信息更新成功"),e.$eventBus.$emit("username",e.user.name),e.getuserInfoFn();case 10:case"end":return t.stop()}}),t)})))()},updateAvatar:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var a,n,u,c,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=new FormData,a.append("photo",e.file),r.next=4,Object(o["n"])(a);case 4:if(n=r.sent,u=Object(s["a"])(n,2),c=u[0],i=u[1],!c){r.next=10;break}return r.abrupt("return");case 10:t.user.photo=i.data.data.photo,t.$message.success("头像更新成功"),t.$eventBus.$emit("photourl",t.user.photo),t.getuserInfoFn();case 14:case"end":return r.stop()}}),r)})))()}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getuserInfoFn();case 1:case"end":return t.stop()}}),t)})))()}},i=c,l=(r("cd88"),r("2877")),p=Object(l["a"])(i,a,n,!1,null,"2ed82fc0",null);t["default"]=p.exports},cd88:function(e,t,r){"use strict";r("dbe7")},dbe7:function(e,t,r){}}]);
//# sourceMappingURL=chunk-026da3c7.b1634ca0.js.map